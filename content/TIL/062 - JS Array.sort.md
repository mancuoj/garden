
JavaScript 内置的 Array.sort() 方法用于对数组的元素进行排序。需要注意的是，排序操作直接修改（变异）原始数组，而不是创建一个新的已排序数组。这与一些数组方法（如 Array.map()）不同，后者基于原始数组创建一个新数组。在 JavaScript 中，修改原始数组或对象的方法被称为“变异”或“原地”操作。

当我们说 Array.sort() “返回”排序后的数组时，是什么意思呢？在 Array.sort() 对原始数组进行排序后，它返回对同一（现在已排序）数组的引用。这不是在创建一个包含排序元素的新数组，而是一个便利功能，允许方法链接。

默认情况下，sort() 方法将元素转换为字符串，并比较它们的 UTF-16 代码单元值的序列，以确定排序顺序。这对字符串起作用，但在对数字或混合数据类型进行排序时可能导致意外结果。

例如，数组 [10, 2, 20] 在使用 Array.sort() 排序时会被排序为 [10, 2, 20]，因为当转换为字符串时，"10" 在字典序中排在 "2" 前面。这是为什么在处理数字数据时，通常会在 sort() 方法中提供一个比较函数的原因之一。

重要的是要注意，Array.sort() 方法不能保证稳定排序。排序算法的稳定性是指在排序输出中相等的元素保留其在原始数组中的相对顺序。Array.sort() 函数的稳定性取决于 JavaScript 引擎的具体实现。某些 JavaScript 引擎的实现可能提供稳定性，而其他实现可能不提供。

Array.sort() 允许我们传递一个比较函数，以自定义排序机制。比较函数应该是一个接受两个参数并返回一个负数、零或正数的函数：

负数：如果比较函数返回一个小于零的值，它将把 a 排到 b 之前。简单来说，a 应该在 b 之前。
正数：如果比较函数返回一个大于零的值，它将把 a 排到 b 之后。也就是说，a 应该在 b 之后。
零：如果比较函数返回 0，它会保持 a 和 b 相对于彼此的顺序不变，但它们相对于其他元素的顺序将被排序。

以下是如何使用比较函数按升序对数字进行排序的示例：

```js
let numbers = [40, 1, 5, 200];
numbers.sort((a, b) => a - b);
console.log(numbers); // [1, 5, 40, 200]
```
